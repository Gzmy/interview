# 此文章整理字节跳动面试题

## 编程语言和算法
- 找出数组中只出现一次的数(核心思想是异或)
- BST中任意链各个结点差的最小值
- 判断二叉树是否中心对称
- 大数相乘
- 堆排序(构建堆,每次去最后一个与堆顶元素交换,重新调整)

## 操作系统和网络
- IO多路复用的优缺点


## 数据库(头条重点)
- 乐观锁和悲观锁
	- 悲观锁:总是假设最坏的情况,每次去拿数据时都认为别人会修改,每次拿数据时
	都会上锁,别人想拿数据都必须阻塞等到它拿到锁.行锁,表锁,读锁,写锁都是在做
	操作之前先上锁
	- 乐观锁:总是假设最好的情况,每次去拿数据都任务别人不会修改数据,所以不会上锁
	但是在更新时会判断在此期间别人有没有去更新这个数据.**多适用于多读的应用类型,
	提高吞吐量**
	- 附:乐观锁实现的两种机制   版本号机制和CAS算法
	> 版本号机制: 一般是在数据表中加上一个数据版本号version字段用于表示数据被修改的次数
	> 当数据被修改,version+1, 当线程A要更新数据,在读取数据的同时也会读取version值,在提交更新时
	> 此时的version值和刚才读的值相等才更新,否则重试更新,直到更新成功
	> CAS算法(compare and swap): 是一种无锁算法,不使用锁实现多线程之间的变量同步.
	>	CAS涉及到三个操作数: 需要读写的内存值V, 尽心比较的值A, 拟写入的新值B
	> 当且仅当V的值是A时,CAS会通过原子方式用新值B来更新V的值,否则不会执行任何操作

	- 使用场景:乐观锁适用于多读,悲观锁适用于多写
- BTREE索引和HASH索引的比较
	- HASH索引只能使用=或者<= >=操作符的等式比较, 如果一定要使用范围查询,只能使用BTREE索引
	- 优化器不能使用HASH索引来加速order by操作
	- 使用HASH索引时MySQL不能确定在两个值之间大概有多少行,如果将一个MyISAM表
	改为HASH索引的memory表,会影响一些查询的执行效率
	- HASH索引只能使用整个关键字来搜索一行



## redis
- redis的单进程单线程模型
- redis支持的数据类型
- redis中的字符串类型如何实现

